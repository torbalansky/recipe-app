{% extends 'recipes/base.html' %}
{% load static %}
{% block content %}
    <style>
        .container-fluid.recipe-details {
            background-image: url("{% static 'recipes/images/recipes_details.jpg' %}");
            background-size: cover;
            background-position: center;
            width: 100%;
            height: 100%;
            position: relative;
            text-align:justify;
        }

        .recipe-details {
            background-size: cover;
            background-position: center;
            padding: 30px;
        }

        .card {
            max-width: 80%;
            margin: 0 auto;
        }

        .card-img-top {
            object-fit: cover;
            max-height: 400px;
        }

        h3 {
            text-align: center;
            padding: 10px;
        }

        .likes-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px;
            border-radius: 5px;
        }

        .likes-overlay i {
            font-size: 20px;
            margin-right: 5px;
            color: red;
        }

    </style>

    <div class="container-fluid recipe-details">
        <div class="card">
            <div class="likes-overlay">
                {{ recipe.number_of_likes }}
                {% if user in recipe.likes.all %}
                    <a href="{% url 'recipes:recipe_like' recipe.id %}">
                        <i class="fa-solid fa-heart"></i>
                    </a>
                {% else %}
                    <a href="{% url 'recipes:recipe_like' recipe.id %}">
                        <i class="fa-regular fa-heart"></i>
                    </a>
                {% endif %}
            </div>
            <img src="{{ recipe.pic.url }}" class="card-img-top" alt="{{ recipe.title }}">
                <div class="card-body">
                    <h3 class="card-title">{{ recipe.title }}</h3>
                    <p class="card-text">{{ recipe.description }}</p>

                    <h4 class="mt-4">Ingredients:</h4>
                    <ul>
                        {% for ingredient in recipe.ingredients.all %}
                            <li>{{ ingredient.name }}</li>
                        {% endfor %}
                    </ul>
                    <h4 class="mt-4">Coocking time (min):</h4>
                    <p>{{ recipe.cooking_time }}</p>

                    <h4 class="mt-4">Instructions:</h4>
                    <p>{{ recipe.instructions }}</p>

                    <h4 class="mt-4">Difficulty:</h4>
                    <p>{{ recipe.difficulty }}</p>

                    <h4 class="mt-4">Created by:</h4>
                    <p>{{ recipe.author }}</p>
                    <div class="text-center">
                        <a href="{% url 'recipes:export_recipe_as_pdf' recipe.id %}" class="btn btn-primary" style="width:300px;">Download as PDF</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
